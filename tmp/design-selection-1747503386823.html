
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>UI Component Selection</title>
      <style>
        body { 
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
          margin: 0; 
          padding: 20px;
          background-color: #f9f9f9;
        }
        h1 {
          text-align: center;
          margin-bottom: 10px;
          color: #333;
        }
        .subtitle {
          text-align: center;
          margin-bottom: 30px;
          color: #666;
          font-size: 16px;
        }
        .designs-container {
          display: flex;
          flex-wrap: wrap;
          gap: 30px;
          justify-content: center;
        }
        .design-container { 
          flex: 1 1 300px;
          max-width: 500px;
          margin-bottom: 30px; 
          padding: 20px; 
          border: 1px solid #eaeaea; 
          border-radius: 8px;
          background-color: white;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
          transition: transform 0.2s, box-shadow 0.2s;
        }
        .design-container:hover {
          transform: translateY(-5px);
          box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .design-name { 
          font-size: 20px; 
          margin-bottom: 15px;
          padding-bottom: 10px;
          border-bottom: 1px solid #f0f0f0;
          color: #222;
        }
        .design-content {
          margin-bottom: 20px;
          min-height: 100px;
          padding: 15px;
          border: 1px dashed #eaeaea;
          border-radius: 4px;
          background-color: #fafafa;
        }
        .component-wrapper {
          margin: 0 auto;
        }
        .selection-feedback {
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 15px 20px;
          background-color: #4CAF50;
          color: white;
          border-radius: 4px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.2);
          display: none;
          z-index: 100;
        }
        .selection-message {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          padding: 15px;
          background-color: #333;
          color: white;
          text-align: center;
          z-index: 100;
        }
        .instructions {
          max-width: 700px;
          margin: 0 auto 30px;
          padding: 15px;
          background-color: #e9f5ff;
          border-radius: 8px;
          color: #0c5a99;
        }
        .warning {
          background-color: #fff3cd;
          color: #856404;
          border-radius: 8px;
          padding: 10px 15px;
          margin-top: 15px;
          font-weight: 500;
        }
        .buttons-container {
          text-align: center;
          margin-top: 15px;
        }
        button { 
          padding: 10px 20px; 
          font-size: 16px; 
          margin: 5px;
          background-color: #0070f3;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          transition: background-color 0.2s;
        }
        button:hover {
          background-color: #0058c6;
        }
        button:active {
          background-color: #004fc6;
        }
        button.selected {
          background-color: #10B981;
        }
        .component-label {
          display: inline-block;
          padding: 3px 8px;
          background-color: #f0f0f0;
          border-radius: 4px;
          font-size: 12px;
          margin-bottom: 10px;
          color: #666;
        }
        @media (max-width: 768px) {
          .designs-container {
            flex-direction: column;
            align-items: center;
          }
          .design-container {
            flex: 1 1 auto;
            max-width: 100%;
          }
        }
      </style>
    </head>
    <body>
      <h1>UI Component Selection</h1>
      <p class="subtitle">Compare different design options for individual UI components</p>
      
      <div class="instructions">
        <p><strong>Please select your preferred component design.</strong> The browser window will close automatically after your selection.</p>
      </div>
      
      <div class="selection-feedback" id="selectionFeedback"></div>
      
      <div class="designs-container">
        <div class="design-container">
          <div class="design-name">Modern WhatsApp Chat</div>
          <div class="component-label">UI Component</div>
          <div class="design-content">
            <div class="component-wrapper"><section class="py-10 bg-white">
  <div class="container mx-auto px-4">
    <div class="max-w-md mx-auto bg-green-50 rounded-xl overflow-hidden shadow-lg">
      <div class="bg-green-600 px-4 py-3 flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-6 h-6 text-white fill-current">
          <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
        </svg>
        <h3 class="text-white font-medium ml-2">Chat with Us</h3>
      </div>
      <div class="p-6">
        <p class="text-gray-700 mb-4">Have questions about our menu or want to place an order? Chat with us directly on WhatsApp!</p>
        <div class="bg-white p-4 rounded-lg shadow-inner mb-4">
          <p class="text-sm text-gray-500 mb-2">Our response time</p>
          <div class="flex items-center">
            <span class="inline-block w-3 h-3 bg-green-500 rounded-full mr-2"></span>
            <span class="text-gray-700">Usually within 5 minutes</span>
          </div>
        </div>
        <button class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-5 h-5 mr-2 text-white fill-current">
            <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
          </svg>
          Chat with Us
        </button>
      </div>
    </div>
  </div>
</section></div>
          </div>
          <div class="buttons-container">
            <button id="btn1" onclick="selectDesign('Modern WhatsApp Chat', 'btn1')">Select This Component</button>
          </div>
        </div>

        <div class="design-container">
          <div class="design-name">Floating WhatsApp Button</div>
          <div class="component-label">UI Component</div>
          <div class="design-content">
            <div class="component-wrapper"><div class="fixed bottom-8 right-8 z-50">
  <div class="relative group">
    <div class="absolute -top-16 right-0 transform translate-y-0 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 bg-white text-gray-800 p-3 rounded-lg shadow-lg w-48">
      <p class="text-sm">Need help with your order?</p>
      <div class="absolute bottom-0 right-6 transform translate-y-1/2 rotate-45 w-3 h-3 bg-white"></div>
    </div>
    <button class="bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg flex items-center justify-center transition-all duration-300 group-hover:scale-110">
      <svg class="w-6 h-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
        <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
      </svg>
    </button>
  </div>
</div></div>
          </div>
          <div class="buttons-container">
            <button id="btn2" onclick="selectDesign('Floating WhatsApp Button', 'btn2')">Select This Component</button>
          </div>
        </div>

        <div class="design-container">
          <div class="design-name">Interactive Chat Banner</div>
          <div class="component-label">UI Component</div>
          <div class="design-content">
            <div class="component-wrapper"><section class="bg-gray-50 py-4 border-t border-gray-200">
  <div class="container mx-auto px-4">
    <div class="flex flex-col md:flex-row items-center justify-between bg-white rounded-lg shadow-md p-4 md:p-6">
      <div class="flex items-center mb-4 md:mb-0">
        <div class="flex-shrink-0 bg-green-100 p-3 rounded-full mr-4">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-6 h-6 text-green-600 fill-current">
            <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
          </svg>
        </div>
        <div>
          <h4 class="text-lg font-medium text-gray-900">Connect on WhatsApp</h4>
          <p class="text-gray-600">Quick order, special requests or questions</p>
        </div>
      </div>
      <div class="flex flex-col sm:flex-row gap-3">
        <div class="inline-flex items-center text-gray-700 bg-gray-100 px-4 py-2 rounded-md">
          <span class="inline-block w-2 h-2 bg-green-500 rounded-full mr-2"></span>
          <span>Online now</span>
        </div>
        <a href="#" class="inline-flex items-center justify-center bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-md font-medium transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-5 h-5 mr-2 fill-current">
            <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
          </svg>
          Start Chat
        </a>
      </div>
    </div>
  </div>
</section></div>
          </div>
          <div class="buttons-container">
            <button id="btn3" onclick="selectDesign('Interactive Chat Banner', 'btn3')">Select This Component</button>
          </div>
        </div>
      </div>

      <div class="selection-message">
        Please select a component design by clicking one of the buttons above.
      </div>

      <script>
        // Function to check if selection has been finalized
        function checkFinalizationStatus() {
          fetch('/design-selection-finalized')
            .then(response => response.json())
            .then(data => {
              if (data.finalized) {
                window.close();
              }
            })
            .catch(() => {
              // If any error occurs, try to close anyway
              window.close();
            });
        }
        
        function selectDesign(name, btnId) {
          // Update button state
          document.querySelectorAll('button').forEach(btn => {
            btn.disabled = true;
          });
          
          document.getElementById(btnId).innerText = "Selected ✓";
          
          // Create and show a success message
          const feedback = document.createElement('div');
          feedback.className = 'selection-feedback';
          feedback.style.display = 'block';
          feedback.style.backgroundColor = '#4CAF50';
          feedback.innerHTML = 'Selection received: <strong>' + name + '</strong>. This window will close shortly...';
          document.body.appendChild(feedback);
          
          // Send selection to the server
          fetch('/design-selection-result', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ selectedDesign: name })
          })
          .then(function() {
            // Add a delay before trying to close the window
            setTimeout(function() {
              // Try to close window after a short delay
              window.close();
              
              // As a fallback, check for finalization signal
              setInterval(checkFinalizationStatus, 500);
            }, 1500);
          })
          .catch(function(error) {
            // Show error message
            console.error('Error submitting selection:', error);
            const errorFeedback = document.createElement('div');
            errorFeedback.className = 'selection-feedback';
            errorFeedback.style.display = 'block';
            errorFeedback.style.backgroundColor = '#f44336';
            errorFeedback.innerText = 'Error submitting selection. Please try again.';
            document.body.appendChild(errorFeedback);
            
            // Re-enable buttons after error
            setTimeout(function() {
              document.querySelectorAll('button').forEach(function(btn) {
                btn.disabled = false;
              });
              errorFeedback.style.display = 'none';
            }, 3000);
          });
        }
        
        // Try to prevent confirmation dialogs when closing
        window.onbeforeunload = null;
      </script>
    </body>
    </html>
  