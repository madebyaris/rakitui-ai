
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>UI Component Selection</title>
      <style>
        body { 
          font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
          margin: 0; 
          padding: 20px;
          background-color: #f9f9f9;
        }
        h1 {
          text-align: center;
          margin-bottom: 10px;
          color: #333;
        }
        .subtitle {
          text-align: center;
          margin-bottom: 30px;
          color: #666;
          font-size: 16px;
        }
        .designs-container {
          display: flex;
          flex-wrap: wrap;
          gap: 30px;
          justify-content: center;
        }
        .design-container { 
          flex: 1 1 300px;
          max-width: 500px;
          margin-bottom: 30px; 
          padding: 20px; 
          border: 1px solid #eaeaea; 
          border-radius: 8px;
          background-color: white;
          box-shadow: 0 2px 5px rgba(0,0,0,0.05);
          transition: transform 0.2s, box-shadow 0.2s;
        }
        .design-container:hover {
          transform: translateY(-5px);
          box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .design-name { 
          font-size: 20px; 
          margin-bottom: 15px;
          padding-bottom: 10px;
          border-bottom: 1px solid #f0f0f0;
          color: #222;
        }
        .design-content {
          margin-bottom: 20px;
          min-height: 100px;
          padding: 15px;
          border: 1px dashed #eaeaea;
          border-radius: 4px;
          background-color: #fafafa;
        }
        .component-wrapper {
          margin: 0 auto;
        }
        .selection-feedback {
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 15px 20px;
          background-color: #4CAF50;
          color: white;
          border-radius: 4px;
          box-shadow: 0 2px 5px rgba(0,0,0,0.2);
          display: none;
          z-index: 100;
        }
        .selection-message {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          padding: 15px;
          background-color: #333;
          color: white;
          text-align: center;
          z-index: 100;
        }
        .instructions {
          max-width: 700px;
          margin: 0 auto 30px;
          padding: 15px;
          background-color: #e9f5ff;
          border-radius: 8px;
          color: #0c5a99;
        }
        .warning {
          background-color: #fff3cd;
          color: #856404;
          border-radius: 8px;
          padding: 10px 15px;
          margin-top: 15px;
          font-weight: 500;
        }
        .buttons-container {
          text-align: center;
          margin-top: 15px;
        }
        button { 
          padding: 10px 20px; 
          font-size: 16px; 
          margin: 5px;
          background-color: #0070f3;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          transition: background-color 0.2s;
        }
        button:hover {
          background-color: #0058c6;
        }
        button:active {
          background-color: #004fc6;
        }
        button.selected {
          background-color: #10B981;
        }
        .component-label {
          display: inline-block;
          padding: 3px 8px;
          background-color: #f0f0f0;
          border-radius: 4px;
          font-size: 12px;
          margin-bottom: 10px;
          color: #666;
        }
        @media (max-width: 768px) {
          .designs-container {
            flex-direction: column;
            align-items: center;
          }
          .design-container {
            flex: 1 1 auto;
            max-width: 100%;
          }
        }
      </style>
    </head>
    <body>
      <h1>UI Component Selection</h1>
      <p class="subtitle">Compare different design options for individual UI components</p>
      
      <div class="instructions">
        <p><strong>Please select your preferred component design.</strong> The browser window will close automatically after your selection.</p>
      </div>
      
      <div class="selection-feedback" id="selectionFeedback"></div>
      
      <div class="designs-container">
        <div class="design-container">
          <div class="design-name">Corporate Grid Layout</div>
          <div class="component-label">UI Component</div>
          <div class="design-content">
            <div class="component-wrapper"><!-- Proudly Used By Section - Corporate Grid -->
<section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Proudly Used By</h2>
            <p class="text-xl text-gray-600">Trusted by leading companies worldwide</p>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 items-center">
            <div class="flex items-center justify-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <img src="https://logo.clearbit.com/microsoft.com" alt="Microsoft" class="h-12 w-auto grayscale hover:grayscale-0 transition-all">
            </div>
            <div class="flex items-center justify-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <img src="https://logo.clearbit.com/google.com" alt="Google" class="h-12 w-auto grayscale hover:grayscale-0 transition-all">
            </div>
            <div class="flex items-center justify-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <img src="https://logo.clearbit.com/apple.com" alt="Apple" class="h-12 w-auto grayscale hover:grayscale-0 transition-all">
            </div>
            <div class="flex items-center justify-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <img src="https://logo.clearbit.com/amazon.com" alt="Amazon" class="h-12 w-auto grayscale hover:grayscale-0 transition-all">
            </div>
            <div class="flex items-center justify-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <img src="https://logo.clearbit.com/netflix.com" alt="Netflix" class="h-12 w-auto grayscale hover:grayscale-0 transition-all">
            </div>
            <div class="flex items-center justify-center p-6 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow">
                <img src="https://logo.clearbit.com/spotify.com" alt="Spotify" class="h-12 w-auto grayscale hover:grayscale-0 transition-all">
            </div>
        </div>
        <div class="text-center mt-8">
            <p class="text-gray-500">Join 10,000+ companies already using FinanceFlow</p>
        </div>
    </div>
</section></div>
          </div>
          <div class="buttons-container">
            <button id="btn1" onclick="selectDesign('Corporate Grid Layout', 'btn1')">Select This Component</button>
          </div>
        </div>

        <div class="design-container">
          <div class="design-name">Sliding Carousel Style</div>
          <div class="component-label">UI Component</div>
          <div class="design-content">
            <div class="component-wrapper"><!-- Proudly Used By Section - Sliding Carousel -->
<section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Proudly Used By</h2>
            <p class="text-xl text-gray-600">Industry leaders trust FinanceFlow</p>
        </div>
        <div class="relative overflow-hidden">
            <div class="flex animate-scroll space-x-12 items-center">
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/microsoft.com" alt="Microsoft" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/google.com" alt="Google" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/apple.com" alt="Apple" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/amazon.com" alt="Amazon" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/netflix.com" alt="Netflix" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/spotify.com" alt="Spotify" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/tesla.com" alt="Tesla" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
                <div class="flex-shrink-0 flex items-center justify-center h-16 w-32">
                    <img src="https://logo.clearbit.com/uber.com" alt="Uber" class="h-10 w-auto opacity-60 hover:opacity-100 transition-opacity">
                </div>
            </div>
        </div>
        <div class="text-center mt-8">
            <div class="flex justify-center items-center space-x-8 text-sm text-gray-500">
                <span>Fortune 500 Companies</span>
                <span>•</span>
                <span>Startups</span>
                <span>•</span>
                <span>Financial Institutions</span>
            </div>
        </div>
    </div>
</section>

<style>
@keyframes scroll {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}
.animate-scroll {
    animation: scroll 20s linear infinite;
}
</style></div>
          </div>
          <div class="buttons-container">
            <button id="btn2" onclick="selectDesign('Sliding Carousel Style', 'btn2')">Select This Component</button>
          </div>
        </div>

        <div class="design-container">
          <div class="design-name">Premium Showcase</div>
          <div class="component-label">UI Component</div>
          <div class="design-content">
            <div class="component-wrapper"><!-- Proudly Used By Section - Premium Showcase -->
<section class="py-20 bg-gradient-to-br from-indigo-50 to-purple-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">Proudly Used By</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">From Fortune 500 companies to innovative startups, FinanceFlow powers financial success across industries</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
            <div class="text-center">
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center space-x-4 mb-6">
                        <img src="https://logo.clearbit.com/microsoft.com" alt="Microsoft" class="h-12 w-auto">
                        <img src="https://logo.clearbit.com/google.com" alt="Google" class="h-12 w-auto">
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Enterprise</h3>
                    <p class="text-gray-600">Large corporations managing complex financial operations</p>
                </div>
            </div>
            
            <div class="text-center">
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center space-x-4 mb-6">
                        <img src="https://logo.clearbit.com/stripe.com" alt="Stripe" class="h-12 w-auto">
                        <img src="https://logo.clearbit.com/airbnb.com" alt="Airbnb" class="h-12 w-auto">
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Scale-ups</h3>
                    <p class="text-gray-600">Growing companies scaling their financial processes</p>
                </div>
            </div>
            
            <div class="text-center">
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center space-x-4 mb-6">
                        <img src="https://logo.clearbit.com/robinhood.com" alt="Robinhood" class="h-12 w-auto">
                        <img src="https://logo.clearbit.com/coinbase.com" alt="Coinbase" class="h-12 w-auto">
                    </div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Fintech</h3>
                    <p class="text-gray-600">Financial technology companies building the future</p>
                </div>
            </div>
        </div>
        
        <div class="bg-white p-8 rounded-2xl shadow-lg">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8 items-center opacity-60">
                <img src="https://logo.clearbit.com/apple.com" alt="Apple" class="h-8 w-auto mx-auto hover:opacity-100 transition-opacity">
                <img src="https://logo.clearbit.com/amazon.com" alt="Amazon" class="h-8 w-auto mx-auto hover:opacity-100 transition-opacity">
                <img src="https://logo.clearbit.com/netflix.com" alt="Netflix" class="h-8 w-auto mx-auto hover:opacity-100 transition-opacity">
                <img src="https://logo.clearbit.com/spotify.com" alt="Spotify" class="h-8 w-auto mx-auto hover:opacity-100 transition-opacity">
                <img src="https://logo.clearbit.com/tesla.com" alt="Tesla" class="h-8 w-auto mx-auto hover:opacity-100 transition-opacity">
                <img src="https://logo.clearbit.com/uber.com" alt="Uber" class="h-8 w-auto mx-auto hover:opacity-100 transition-opacity">
            </div>
        </div>
        
        <div class="text-center mt-8">
            <p class="text-gray-600">Trusted by <span class="font-semibold text-primary">10,000+</span> companies worldwide</p>
        </div>
    </div>
</section></div>
          </div>
          <div class="buttons-container">
            <button id="btn3" onclick="selectDesign('Premium Showcase', 'btn3')">Select This Component</button>
          </div>
        </div>
      </div>

      <div class="selection-message">
        Please select a component design by clicking one of the buttons above.
      </div>

      <script>
        // Function to check if selection has been finalized
        function checkFinalizationStatus() {
          fetch('/design-selection-finalized')
            .then(response => response.json())
            .then(data => {
              if (data.finalized) {
                window.close();
              }
            })
            .catch(() => {
              // If any error occurs, try to close anyway
              window.close();
            });
        }
        
        function selectDesign(name, btnId) {
          console.log('Selection function called with: ' + name);
          
          // Update button state
          document.querySelectorAll('button').forEach(btn => {
            btn.disabled = true;
          });
          
          document.getElementById(btnId).innerText = "Selected ✓";
          
          // Create and show a success message
          const feedback = document.createElement('div');
          feedback.className = 'selection-feedback';
          feedback.style.display = 'block';
          feedback.style.backgroundColor = '#4CAF50';
          feedback.innerHTML = 'Selection received: <strong>' + name + '</strong>. This window will close shortly...';
          document.body.appendChild(feedback);
          
          // Add debug message
          console.log('Sending selection to server: ' + name);
          
          // Send selection to the server
          fetch('/design-selection-result', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ selectedDesign: name })
          })
          .then(response => {
            console.log('Server response status: ' + response.status);
            return response.json();
          })
          .then(data => {
            console.log('Server response data: ', data);
            
            // Add a delay before trying to close the window
            setTimeout(function() {
              console.log('Attempting to close window');
              // Try to close window after a short delay
              window.close();
              
              // As a fallback, check for finalization signal
              setInterval(checkFinalizationStatus, 500);
            }, 1500);
          })
          .catch(function(error) {
            // Show error message
            console.error('Error submitting selection:', error);
            const errorFeedback = document.createElement('div');
            errorFeedback.className = 'selection-feedback';
            errorFeedback.style.display = 'block';
            errorFeedback.style.backgroundColor = '#f44336';
            errorFeedback.innerText = 'Error submitting selection. Please try again.';
            document.body.appendChild(errorFeedback);
            
            // Re-enable buttons after error
            setTimeout(function() {
              document.querySelectorAll('button').forEach(function(btn) {
                btn.disabled = false;
              });
              errorFeedback.style.display = 'none';
            }, 3000);
          });
        }
        
        // Try to prevent confirmation dialogs when closing
        window.onbeforeunload = null;
      </script>
    </body>
    </html>
  